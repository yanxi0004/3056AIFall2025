<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>How Chatbot “Dr Tin” is Trained?｜Hong Kong Observatory(HKO)｜Educational Resources</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Weather Chatbot, HKO Chatbot, Dr Tin Chatbot, AI Weather">
    <meta name="description" content="The article briefly describes the working principle behind the chatbot &quot;Dr. Tin&quot;, thereby introducing the application of AI technology in public weather service.">
    <meta name="recordId" content="2021100614210770288">
    <meta name="lang" content="en">
	<meta property="fb:app_id" content="468280339992518" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="How Chatbot “Dr Tin” is Trained?" />
	<meta property="og:description" content="The article briefly describes the working principle behind the chatbot &quot;Dr. Tin&quot;, thereby introducing the application of AI technology in public weather service." />
	<meta property="og:image" content="" />
	<meta property="og:url" content="https://www.hko.gov.hk/en/education/weather/data-and-technology/00569-How-Chatbot-Dr-Tin-is-Trained.html" />
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="314" />
    <!-- Bootstrap -->
    <link id="styleSheet0" href="/css/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet1" href="/css/bsplus.css" rel="stylesheet" media="all" type="text/css">
    <link id="styleSheet2" href="/css/default.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet3" href="/css/layout.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/flexslider.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/jquery-ui.min.css" rel="stylesheet" media="all" type="text/css">
    <style type="text/css">
.abc{
display: none;
}
		
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:/ -->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5shiv.js"></script>
    <script type="text/javascript" src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.easing.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider.js"></script>
    <script type="text/javascript" src="/js/menu.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>

	<script type="text/javascript" src="/js/moment.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/vue-router.js"></script>
	<script type="text/javascript" src="/js/vue-extend.js"></script>
	<script type="text/javascript" src="/js/tmp.js"></script>
	<script type="text/javascript" src="/js/jquery.rwdImageMaps.min.js"></script>


    <script type="text/javascript">
		
var menu_id = '67';
var section_id = '2020031011581367687';

                      
	</script>
</head>
<body id="page_bg">
<div id="skipwrapper">
    <a id="top" title="page top"></a>
    <a id="skiptocontent" href="#mainContentSkip" class="access">Skip Content</a>
</div>
<div id="wrap">
    <div id="header" class="headerArea">
        <div class="container">
            <div class="headerTool">
				<script type="text/javascript">createHeader();</script>
            </div>
        </div>
    </div>
    <div class="bodyArea">
        <div class="container">
            <div class="contentArea">
                <a id="mainContentSkip"></a>
                <div class="mainHeader"></div>
                <div class="breadcrumb"></div>
				<script type="text/javascript">pageTop();</script>
				<div id="mainContent" class="mainContent">
                <!--Begin Content-->
                <h1 class="no_h1">How Chatbot “Dr Tin” is Trained?</h1>
                <div class="border_blank">
                    <!-- Font Awesome JS -->
<script defer="defer" src="/common/education/educational-resources-webpage/files/solid.js"></script>
<script defer="defer" src="/common/education/educational-resources-webpage/files/fontawesome.js"></script>

<!-- Footstrap CSS CDN -->
<link rel="stylesheet" type="text/css" href="/common/education/educational-resources-webpage/files/bootstrap.min.css" />

<link rel="stylesheet" type="text/css" href="/common/education/educational-resources-webpage/files/font-awesome.min.css" />
<link rel="stylesheet" type="text/css" href="/tc/education/infoGraphic/files/infographic.css" />
<link rel="stylesheet" type="text/css" href="/tc/education/educational-resources-webpage/css/files/educational_resources_category.css" />
<link rel="stylesheet" type="text/css" href="/common/education/educational-resources-webpage/files/educational_resources_article.css" />
<script src="/en/education/infoGraphic/files/infographic.js"></script>
<script src="/en/education/educational-resources-webpage/files/educational_resources_category.js"></script>
<script src="/common/education/educational-resources-webpage/files/sharer.min.js"></script>

<script type="text/javascript">
   loadXMLDocOther('WEATHER', 'DATA_AND_TECHNOLOGY', 'How Chatbot “Dr Tin” is Trained?');
</script>

<div class="wrapper">
 <!-- Sidebar  -->
 <nav id="sidebar"> 
   <div class="container" style="padding: 18px;"></div>
   <div class="container_aroundicon">
      <div class="sidebar-header" id="menuimg"></div>
   </div>
   <div class="container_undericon" id="menubarlist"></div>
 </nav>
 
 <!-- New details area-->
 <div class="container-fluid">

   <!-- IG page -->
   <div style="padding-right: 0px; padding-left: 0px;">
     

	 <div class="row"> 
       <div class="col-12" style="padding: 0px;">
         <div style="padding-top: 10px; left: 5%;">
           <button type="button" id="sidebarCollapse" class="btn btn-info btn-large" style="background-color: #2580e6; opacity: 0.8;" onclick="toggleSliderBar();">
             <span class="fa fa-bars fa-2x"></span> 
		   </button>
		 </div>
         <div class="title_img" style="visibility: hidden;">
		   <label id="top_title"> </label>
		 </div>
         <div class="description_img">
		   <label id="top_description" style="display: none; visibility: hidden;"> </label>
		 </div>
       </div>
     </div>

     <!-- Educational Resources Logo and Title -->
	 <!--
     <div class="row"></div>
     <img src="/tc/education/img/icons/images/eduLogo.png" alt="Educational Resources icon" style="height: 2em;" />
     <p class="xxlarge">Educational <strong>Resources</strong></p>
	 -->

     <!-- Article Content-->
    <div class="word_size">
     <h1 class="topic">How Chatbot “Dr Tin” is Trained?</h1>
     <div class="gradient_line" style="padding-left: 5%;"></div>
     <div class="name_style">LEE Hon-ping</div>
     <div class="date_style">October 2021</div>
	 <p></p>
	 

<div class="article_style">The Hong Kong Observatory (HKO) launched in February 2020 the chatbot service "Dr Tin" which employs artificial intelligence (AI) to automatically answer a series of weather and astronomy related questions such as current weather, weather warnings, weather forecast, tidal information, Hong Kong standard time, weather forecasts of major world cities and sunrise or sunset time. The chatbot was well received with a monthly average of about 120 thousands of dialogues, and a rating of 4 or above out of 5 since launched. So, what is the working principle behind the chatbot? How does Dr Tin understand and respond to questions?</div>

<div class="article_style">First of all, Dr Tin will classify the questions. HKO will prepare a batch of sample questions and their respective intents. Then a computer program will generate a learning model by applying supervised learning on the sample questions.</div>

<div class="article_style">For example, HKO prepares a batch of questions related to temperature, like "What is the temperature in Causeway Bay?", "What is the temperature now?", "Is it hot", etc. and label them with "temperature" intent. Similarly, HKO also prepares questions related to other HKO&rsquo;s services and labels them in advance to create a training data set.</div>

<div class="article_style">In order to enhance the training efficiency, tokenization will be applied to the question with the help of a tokenizer of Natural Language Understanding (NLU) engine.</div>

<table>
<tbody>
<tr>
<td colspan="3" style="text-align: left;">For example, the question "What is temperature of Hong Kong today?" has a number of ways of tokenization:</td>
</tr>
<tr>
<td style="text-align: left;">(i)</td>
<td style="text-align: left;">"What", "is", "temperature", "of", "Hong", "Kong", "today"</td>
<td style="text-align: left;">(7 tokens)</td>
</tr>
<tr>
<td style="text-align: left;">(ii)</td>
<td style="text-align: left;">"What is temperature", "of Hong", "Kong today"</td>
<td style="text-align: left;">(3 tokens)</td>
</tr>
<tr>
<td style="text-align: left;">(iii)</td>
<td style="text-align: left;">"What is temperature of Hong", "Kong today"</td>
<td style="text-align: left;">(2 tokens)</td>
</tr>
<tr>
<td style="text-align: left;">(iv)</td>
<td style="text-align: left;">"What", "is temperature of Hong Kong today"</td>
<td style="text-align: left;">(2 tokens)</td>
</tr>
<tr>
<td style="text-align: left;">(v)</td>
<td style="text-align: left;">"What is ", "temperature of", "Hong Kong", "today"</td>
<td style="text-align: left;">(4 tokens)</td>
</tr>
</tbody>
</table>
<div class="caption_style"> </div>

<div class="article_style">Obviously, we adopt the (v) tokenization as all tokens in this tokenization are meaningful. The technical detail of tokenization depends on the NLU engine chosen. Then, we have a set of tokenized questions and their respective intent, i.e. a well-prepared training data set. With the use of AI program, a learning model for classifying questions can be developed.</div>

<div class="article_style">When there is a question, Dr Tin will use the learning model to find out a number of intents that the enquiry most probably belongs to, and assign the question to the intent with the highest score. For example, if someone asks "Today&rsquo;s temperature of Sha Tin?", Dr Tin will first find out the tokens of the question, and use the prepared learning model to find out the score of the question associated with each intent. The intent possessing the highest score would be taken as the intent of the question:</div>

<table>
<tbody>
<tr>
<td colspan="2" style="text-align: left;">"Today&rsquo;s temperature of Sha Tin?" --&gt; "Sha Tin", "today", "temperature"</td>
</tr>
<tr>
<td style="text-align: left;">Intent:</td>
<td style="text-align: left;">score</td>
</tr>
<tr>
<td style="text-align: left;">(1) Temperature:</td>
<td style="text-align: left;">99.99&hellip;</td>
</tr>
<tr>
<td style="text-align: left;">(2) Irrelevant question:</td>
<td style="text-align: left;">0.00&hellip;</td>
</tr>
<tr>
<td style="text-align: left;">(3) Sunrise and sunset:</td>
<td style="text-align: left;">0.00&hellip;</td>
</tr>
<tr>
<td style="text-align: left;">(4) ....</td>
<td></td>
</tr>
</tbody>
</table>
<div class="caption_style"> </div>

<div class="article_style">Since the intent "temperature" has the highest score, Dr Tin will take "temperature" as the intent of the question.</div>

<div class="article_style">Finally, the chatbot will further extract entities from the questions to prepare an answer. In the example above, "Sha Tin", "today" and "temperature" are the values of entities "location", "time", and "temperature" respectively. As "today" is a&nbsp; time period, Dr Tin will find out today&rsquo;s maximum and minimum temperature of Sha Tin to prepare the answer for the user.</div>

<div><img class="image_style" src="/en/education/weather/data-and-technology/images/fig_00569-DrTin-dialogue-eng.png" alt="Fig. 1: A sample dialogue with &quot;Dr Tin&quot; in chatbot" style="max-height: 500px;" /></div>
<div class="caption_style">Fig. 1: A sample dialogue with "Dr Tin" in chatbot<br /><br /></div>

<div><img class="image_style" src="/en/education/weather/data-and-technology/images/fig_00569-DrTin-Workflow-eng.png" alt="Fig. 2: Work flow of the chatbot" style="max-height: 500px;" /></div>
<div class="caption_style">Fig. 2: Work flow of the chatbot</div>


	 
	 </div>    
      <!-- Article Content END-->
	 
     <!-- Related Video, Infographic, Article Content -->	 	 
	 <div class="row">
       <div class="col-12">
         <div class="gradient_line" style="padding-left: 5%;"></div>
       </div>
     </div>

<!--hidden--><!--	 
     <div class="row" style="margin-top: 3vw;"></div>
     <div id="infographic_carousel" style="display: none;">
       <div class="row" style="padding: 2%; padding-top: 1%; padding-bottom: 3%;">
         <div class="container">
           <div class="container-carousel text-left">
             <div class="container carousel-title" style="padding: 2%;"><em>Infographics</em></div>
             <div class="row mx-auto my-auto">
              <div id="myCarousel-1" class="carousel w-100" data-interval="false">
               <div class="carousel-inner w-100" role="listbox">
                 <div id="related_infographic_part"></div>
               </div>				 
               <a class="carousel-control-prev bg-dark w-auto" href="#myCarousel-1" role="button" data-slide="prev"> 
				<span class="carousel-control-prev-icon" aria-hidden="true"></span> 
				<span class="sr-only">Previous</span> 
			   </a> 
			   <a class="carousel-control-next bg-dark w-auto" href="#myCarousel-1" role="button" data-slide="next"> 
				<span class="carousel-control-next-icon" aria-hidden="true"></span> 
				<span class="sr-only">Next</span> 
			   </a>
              </div>
             </div>
           </div>
         </div>
       </div>
     </div>
	 
     <div class="row" style="margin-top: 3vw;"></div>
     <div id="video_carousel" style="display: none;">
       <div class="row" style="background-color: #e4f0f3; padding: 2%; padding-top: 1%; padding-bottom: 3%;">
         <div class="container">
           <div class="container-carousel text-left">
             <div class="container carousel-title" style="padding: 2%;"><em>Videos</em></div>
             <div class="row mx-auto my-auto">
              <div id="myCarousel" class="carousel w-100" data-interval="false">
               <div class="carousel-inner w-100" role="listbox">
                 <div id="related_video_part"></div>
               </div>
               <a class="carousel-control-prev bg-dark w-auto" href="#myCarousel" role="button" data-slide="prev"> 
			    <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> 
			   </a>
			   <a class="carousel-control-next bg-dark w-auto" href="#myCarousel" role="button" data-slide="next"> 
				<span class="carousel-control-next-icon" aria-hidden="true"></span> 
				<span class="sr-only">Next</span> 
			   </a>
              </div>
             </div>
           </div>
         </div>
       </div>
     </div>
	 --> <!--hidden end-->

     <div class="row" style="margin-top: 3.5vw;"></div>
     <div id="article_carousel" style="display: none;">
       <div class="row" style="background-color: #e4f0f3; padding: 2%; padding-top: 1%; padding-bottom: 3%;">
         <div class="container">
           <div class="container-carousel text-left">
             <div class="container carousel-title" style="padding: 2%;"><em>Related Articles</em></div>
             <div class="row mx-auto my-auto">
              <div id="myCarousel-2" class="carousel w-100" data-interval="false">
               <div class="carousel-inner w-100" role="listbox">
                 <div id="related_article_part"></div>
               </div>
               <a class="carousel-control-prev bg-dark w-auto" href="#myCarousel-2" role="button" data-slide="prev"> 
			    <span class="carousel-control-prev-icon" aria-hidden="true"></span> 
			    <span class="sr-only">Previous</span> 
			   </a> 
			   <a class="carousel-control-next bg-dark w-auto" href="#myCarousel-2" role="button" data-slide="next"> 
			    <span class="carousel-control-next-icon" aria-hidden="true"></span> 
			    <span class="sr-only">Next</span> 
			   </a>
              </div>
             </div>
           </div>
         </div>
       </div>
     </div>


   </div> <!-- IG page END-->
 </div> <!-- New details area END-->
</div>
<script>var last_revision_date = '30 October 2023';</script>
                </div>
				<!--End Content-->
                </div>
            </div>
            <script type="text/javascript">pageBottom();</script>
        </div>
    </div>
    <div id="footer" class="footerArea">
        <div class="container"> 
			<script type="text/javascript">createFooter();</script>
        </div>
    </div>
</div>
</body>
</html>