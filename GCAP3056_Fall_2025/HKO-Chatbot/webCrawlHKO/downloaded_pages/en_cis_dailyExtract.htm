<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Daily Extract｜Hong Kong Observatory(HKO)｜Climate Information Service</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Daily Extract">
    <meta name="description" content="Daily Extract">
    <meta name="recordId" content="2018123100000000889">
    <meta name="lang" content="en">
	<meta property="fb:app_id" content="468280339992518" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Daily Extract" />
	<meta property="og:description" content="&amp;nbsp; Back YearMonthGo Trace means rainfall less than 0.05 mm" />
	<meta property="og:image" content="" />
	<meta property="og:url" content="https://www.hko.gov.hk/en/cis/dailyExtract.htm" />
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="314" />
    <!-- Bootstrap -->
    <link id="styleSheet0" href="/css/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet1" href="/css/bsplus.css" rel="stylesheet" media="all" type="text/css">
    <link id="styleSheet2" href="/css/default.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet3" href="/css/layout.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/flexslider.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/jquery-ui.min.css" rel="stylesheet" media="all" type="text/css">
    <style type="text/css">
.abc{
display: none;
}
		p.remark{  font-size: 10pt; }
.td_normal_class {
	font-size: 14px;
	font-weight: bold;
	color: #000;
	text-align: center;
	vertical-align: middle;
	background-color: #E4FCFB;
	border-bottom-width: 2px;
	border-bottom-style: double;
	border-bottom-color: #000;
}
.td1_normal_class {
	font-size: 14px;
	color: #000;
	text-align: center;
	vertical-align: middle;
}
.td1_year_class {
	font-size: 14px;
	color: #000;
	text-align: center;
	vertical-align: middle;
	border-left-width: 2px;
	border-left-style: double;
	border-left-color: #000;
	border-right-width: 2px;
	border-right-style: double;
	border-right-color: #000;
}
.back {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #f9f9f9), color-stop(1, #e9e9e9) );
	background:-moz-linear-gradient( center top, #f9f9f9 5%, #e9e9e9 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f9f9f9', endColorstr='#e9e9e9');
	background-color:#f9f9f9;
	-webkit-border-top-left-radius:20px;
	-moz-border-radius-topleft:20px;
	border-top-left-radius:20px;
	-webkit-border-top-right-radius:0px;
	-moz-border-radius-topright:0px;
	border-top-right-radius:0px;
	-webkit-border-bottom-right-radius:0px;
	-moz-border-radius-bottomright:0px;
	border-bottom-right-radius:0px;
	-webkit-border-bottom-left-radius:20px;
	-moz-border-radius-bottomleft:20px;
	border-bottom-left-radius:20px;
	text-indent:0;
	border:1px solid #dcdcdc;
	display:inline-block;
	color:#4e59d4;
	font-size:14px;
	font-weight:bold;
	font-style:normal;
	height:30px;
	line-height:30px;
	width:43px;
	text-decoration:none;
	text-align:center;
	text-shadow:1px 1px 0px #ffffff;
}
.back:hover {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #e9e9e9), color-stop(1, #f9f9f9) );
	background:-moz-linear-gradient( center top, #e9e9e9 5%, #f9f9f9 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#e9e9e9', endColorstr='#f9f9f9');
	background-color:#e9e9e9;
}.back:active {
	position:relative;
	top:1px;
}
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:/ -->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5shiv.js"></script>
    <script type="text/javascript" src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.easing.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider.js"></script>
    <script type="text/javascript" src="/js/menu.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>

	<script type="text/javascript" src="/js/moment.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/vue-router.js"></script>
	<script type="text/javascript" src="/js/vue-extend.js"></script>
	<script type="text/javascript" src="/js/tmp.js"></script>
	<script type="text/javascript" src="/js/jquery.rwdImageMaps.min.js"></script>


    <script type="text/javascript">
		
var menu_id = '42';
var section_id = '2018010100000010126';

         

var monthName = new Array("January","February","March","April","May","June","July","August","September","October","November","December");
var startYear;
var startMonth;
var	m_val;
var	y_val;
var sysYear = new Date();
var dailyUpdate = false;
var dataMissing = false;
var dataIncomplete = false;
function GetURLParameter(sParam){
	var sPageURL=window.location.search.substring(1);
	var sURLVariables=sPageURL.split('&');
	for(var i=0;i<sURLVariables.length;i++){
		var sParameterName=sURLVariables[i].split('=');
		if(sParameterName[0]==sParam){
			return sParameterName[1];
		}
	}
}
function ajax_get_data(y_val,m_val) {
	$.ajax({
		url: "../../cis/hko.xml",
		dataType: "text",
		success: function(aws) {
			var json = $.parseJSON(aws);
			for(var i = 0; i < json.hko.length; i++){
				if(json.hko[i].code == 'dailyExtract'){
					startYear = json.hko[i].startYear;
					var endYear = json.hko[i].endYear;
					startMonth = json.hko[i].startMonth;
					var endMonth = json.hko[i].endMonth;
					if(endYear < y_val || (endYear == y_val && endMonth < m_val)){
						dailyUpdate = true;
					}
				}
			}
			var yearDropdown = document.getElementById('yearDropdown'); 
			var monthDropdown = document.getElementById('monthDropdown'); 
			for(var i=sysYear.getFullYear(); i>=startYear; i--){
				if(i >1946 || i<1940){
					var option=document.createElement("option");
					option.text=i;
					if(i == y_val){
						option.selected = true;
					}
					try
					{
						yearDropdown.add(option,x.options[null]);
					}
					catch (e)
					{
						yearDropdown.add(option,null);
					}
				}  
			  }
			changeYearDropDown();
			if(dailyUpdate){
				var month = m_val;
				if(month.length == 1){
					month = "0" + month;
				 }
				$.ajax({
					url: "../../cis/dailyExtract/dailyExtract_" + y_val + month + ".xml",
					dataType: "text",
					success: function(xml) {
						var json = $.parseJSON(xml);
						//var tableContent = $('<table></table>').attr({'id':'t1','border':'1','cellpadding':'3','cellspacing':'0','summary':'Daily Extract of Meteorological Observations , ' + monthName[m_val-1] + ' ' + y_val});
						var tableContent = $('<table></table>').attr({'id':'t1','class':'data_table table_border_1','summary':'Daily Extract of Meteorological Observations , ' + monthName[m_val-1] + ' ' + y_val});
						//table header
						var header = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'rowspan':'3','class': 'td_normal_class'}).html('Day').appendTo(header);
						$('<th></th>').attr({'colspan':'8','class': 'td_normal_class'}).html('Hong  Kong  Observatory').appendTo(header);
						var header1 = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Pressure (hPa)').appendTo(header1);
						$('<th></th>').attr({'colspan':'3','class': 'td_normal_class'}).html('Air Temperature').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Dew Point (deg. C)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Relative Humidity (%)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Amount <br>of Cloud (%)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Total Rainfall (mm)').appendTo(header1);
						var header2 = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Absolute Daily Max (deg. C)').appendTo(header2);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Mean (deg. C)').appendTo(header2);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Absolute Daily Min (deg. C)').appendTo(header2);
						for(var i = 0; i < json.stn.data.length; i++){
							if(json.stn.data[i].month == m_val){
								for(var k = 0; k < json.stn.data[i].dayData.length; k++){
									var row = $('<tr></tr>').appendTo(tableContent);
									$('<td></td>').attr({'class': 'td1_year_class'}).html(ReplaceName(json.stn.data[i].dayData[k][0])).appendTo(row);
									for(var j = 1; j < 9; j++){
										$('<td></td>').attr({'class': 'td1_normal_class'}).html(correctOutput(json.stn.data[i].dayData[k][j])).appendTo(row);
									}
								}
							}
						}
						tableContent.appendTo($("#dataTable"));
						$("#t1 tr:even").css("background-color","#F0F5F5");
						$("#t1 tr:odd").css("background-color","#C2D6FF");
					}
				});
				if(y_val > 1990){
					if(y_val != 2021){
					document.getElementById('normalRemark').innerHTML = '? 1991-2020 Climatological Normal';
					}
				}
			}else{
				$.ajax({
					url: "../../cis/dailyExtract/dailyExtract_" + y_val + ".xml",
					dataType: "text",
					success: function(xml) {
						var json = $.parseJSON(xml);
						//var tableContent = $('<table></table>').attr({'id':'t1','border':'1','cellpadding':'3','cellspacing':'0','summary':'Daily Extract of Meteorological Observations , ' + monthName[m_val-1] + ' ' + y_val}).css({'width':'740px'});
						var tableContent = $('<table></table>').attr({'id':'t1','class':'data_table table_border_1','summary':'Daily Extract of Meteorological Observations , ' + monthName[m_val-1] + ' ' + y_val});
						//table header
						var header = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'rowspan':'3','class': 'td_normal_class'}).html('Day').appendTo(header);
						$('<th></th>').attr({'colspan':'8','class': 'td_normal_class'}).html('Hong  Kong  Observatory').appendTo(header);
						$('<th></th>').attr({'colspan':'1','class': 'td_normal_class'}).html('King\'s  Park').appendTo(header);
						$('<th></th>').attr({'colspan':'2','class': 'td_normal_class'}).html('Waglan  Island^').appendTo(header);
						var header1 = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Pressure (hPa)').appendTo(header1);
						$('<th></th>').attr({'colspan':'3','class': 'td_normal_class'}).html('Air Temperature').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Dew Point (deg. C)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Relative Humidity (%)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Amount <br>of Cloud (%)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Total Rainfall (mm)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Total Bright Sunshine (hours)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Prevailing Wind Direction (degrees)').appendTo(header1);
						$('<th></th>').attr({'rowspan':'2','class': 'td_normal_class'}).html('Mean Wind Speed (km/h)').appendTo(header1);
						var header2 = $('<tr></tr>').css({'color':'#000000','background-color':'#FF8C00'}).appendTo(tableContent);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Absolute Daily Max (deg. C)').appendTo(header2);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Mean (deg. C)').appendTo(header2);
						$('<th></th>').attr({'class': 'td_normal_class'}).html('Absolute Daily Min (deg. C)').appendTo(header2);
						for(var i = 0; i < json.stn.data.length; i++){
							if(json.stn.data[i].month == m_val){
								for(var k = 0; k < json.stn.data[i].dayData.length; k++){
									var row = $('<tr></tr>').appendTo(tableContent);
									$('<td></td>').attr({'class': 'td1_year_class'}).html(ReplaceName(json.stn.data[i].dayData[k][0])).appendTo(row);
									for(var j = 1; j < 12; j++){
										$('<td></td>').attr({'class': 'td1_normal_class'}).html(correctOutput(json.stn.data[i].dayData[k][j])).appendTo(row);
									}
								}
							}
						}
						tableContent.appendTo($("#dataTable"));
						$("#t1 tr:even").css("background-color","#F0F5F5");
						$("#t1 tr:odd").css("background-color","#C2D6FF");
						document.getElementById('wglRemark').innerHTML = '^ Information of wind direction and wind speed for Waglan Island are based on automatic weather station data since August 1989';
						if(y_val > 1990){
							if(y_val < 2008){
								document.getElementById('normalRemark').innerHTML = '? 1961-1990 Climatological Normal, unless otherwise specified';
							}else if(y_val < 2012){
								document.getElementById('normalRemark').innerHTML = '? 1971-2000 Climatological Normal, unless otherwise specified';
							}else if(y_val < 2021){
								document.getElementById('normalRemark').innerHTML = '? 1981-2010 Climatological Normal, unless otherwise specified';
							}else if(y_val > 2021){
								document.getElementById('normalRemark').innerHTML = '? 1991-2020 Climatological Normal, unless otherwise specified';
							}
						}
					}
				});
			}
		}
	});
}
function redirect()
{
	var y = document.getElementById("yearDropdown");
	var yearValue = y.options[y.selectedIndex].value;
	var m = document.getElementById("monthDropdown");
	var monthValue = m.options[m.selectedIndex].value;
	window.location = 'dailyExtract.htm?y=' + yearValue + '&m=' + monthValue;
}
function correctOutput(item){
	for(var i=0;i<item.length;i++){
		if(item.substr(i, 1) == ' '){
			item = item.substr(0,i) + "" + item.substr(i+1,item.length);
		}
	}
	if(!dataMissing && item.indexOf("*") > -1){
		dataMissing = true;
		document.getElementById('dataMissingRemark').innerHTML = '*** unavailable';
	}
	if(!dataIncomplete && item.indexOf("#") > -1){
		dataIncomplete = true;
		document.getElementById('dataIncompleteRemark').innerHTML = '# data incomplete';
	}
	return item;
}
function ReplaceName(item)
{
	if(y_val != 2021){
	item = item.replace("Normal", "Climatological Normal<sup>?</sup>");
	}else{
	item = item.replace("Normal", "Climatological Normal");
	}
	
	return item;
}
function changeYearDropDown(){
	var yearDropdown = document.getElementById('yearDropdown'); 
	var monthDropdown = ClearOptionsFast("monthDropdown");
	var year = yearDropdown.value;
	if(year == sysYear.getFullYear()){
	  for(var i=1; i<=sysYear.getMonth()+1; i++){
		var option=document.createElement("option");
		option.text=i;
		option.value=i;
		if(i == m_val && year == y_val){
			option.selected = true;
		}
		try
		  {
			monthDropdown.add(option,x.options[null]);
		  }
		catch (e)
		  {
			monthDropdown.add(option);
		  }
		}
	}else if(year == startYear){
	  for(var i=startMonth; i<=12; i++){
		var option=document.createElement("option");
		option.text=i;
		option.value=i;
		if(i == m_val && year == y_val){
			option.selected = true;
		}
		try
		  {
			monthDropdown.add(option,x.options[null]);
		  }
		catch (e)
		  {
			monthDropdown.add(option);
		  }
		}
	}else{
	  for(var i=1; i<=12; i++){
		var option=document.createElement("option");
		option.text=i;
		option.value=i;
		if(i == m_val && year == y_val){
			option.selected = true;
		}
		try
		  {
			monthDropdown.add(option,x.options[null]);
		  }
		catch (e)
		  {
			monthDropdown.add(option);
		  }
		}
	}
}
function escapeHtml(unsafe)
{
    return unsafe
         .replace(/&/g, "&amp;")
         .replace(/</g, "&lt;")
         .replace(/>/g, "&gt;")
         .replace(/"/g, "&quot;")
         .replace(/'/g, "&#039;");
 }
function ClearOptionsFast(id)
{
	var selectObj = document.getElementById(id);
	var selectParentNode = selectObj.parentNode;
	var newSelectObj = selectObj.cloneNode(false);
	selectParentNode.replaceChild(newSelectObj, selectObj);
	return newSelectObj;
}
$(document).ready(function(){
	m_val = GetURLParameter('m');
	y_val = GetURLParameter('y');
	if(y_val >= 1884 && y_val <= sysYear.getFullYear() && m_val >=1 && m_val <=12) {
		ajax_get_data(y_val,m_val);
	} else {
	//	if(window.location.href.indexOf("gov.hk") > -1) {
		   window.location.href = '../cis/dailyElement.htm';
	//	}
	}
	m_val =escapeHtml(m_val)
	y_val = escapeHtml(y_val)
	$('#title').html('Daily Extract of Meteorological Observations , ' + monthName[m_val-1] + ' ' + y_val);
	$('a[href*="cis/dailyExtract"]').each(function(){
		if(-1 == $(this).attr("href").search('\\?y=') ){
			$(this).attr("href",$(this).attr("href")+'?y=' + y_val + '&m=' + m_val);
		}
	});
	$('a[onclick*="cis/dailyExtract"]').each(function(){
		if(-1 == $(this).attr("onclick").search('\\?y=') ){
			var sOnClick = jQuery(this).attr('onclick');
			$(this).attr("onclick",sOnClick.replace('cis/dailyExtract.shtml','cis/dailyExtract.shtml?y=' + y_val + '&m=' + m_val));
		}
	});
	
});
	</script>
</head>
<body id="page_bg">
<div id="skipwrapper">
    <a id="top" title="page top"></a>
    <a id="skiptocontent" href="#mainContentSkip" class="access">Skip Content</a>
</div>
<div id="wrap">
    <div id="header" class="headerArea">
        <div class="container">
            <div class="headerTool">
				<script type="text/javascript">createHeader();</script>
            </div>
        </div>
    </div>
    <div class="bodyArea">
        <div class="container">
            <div class="contentArea">
                <a id="mainContentSkip"></a>
                <div class="mainHeader"></div>
                <div class="breadcrumb"></div>
				<script type="text/javascript">pageTop();</script>
				<div id="mainContent" class="mainContent">
                <!--Begin Content-->
                <h1>Daily Extract</h1>
                <div class="border_blank">
                    <!--Content Start-->
<div id="title">
<h1>&nbsp;</h1>
</div>
<div class="self_align_center" style="margin-bottom: 10px;"><button style="border: 0; background-color: #535353; color: #fff; padding: 0 15px; height: 32px; border-radius: 3px;" title="Back" onclick="window.location = '/en/cis/climat.htm';">Back</button> <label for="yearDropdown">Year</label><select id="yearDropdown" onchange="changeYearDropDown()"></select><label for="monthDropdown">Month</label><select id="monthDropdown"></select><button style="border: 0; background-color: #535353; color: #fff; padding: 0 15px; height: 32px; border-radius: 3px;" title="Go" onclick="redirect()">Go</button></div>
<div id="dataTable" style="overflow-x: auto;"></div>
<br />
<div class="remark  self_align_left">
<div id="dataMissingRemark"></div>
</div>
<div class="remark  self_align_left">
<div id="dataIncompleteRemark"></div>
</div>
<div class="remark  self_align_left">
<div id="wglRemark"></div>
</div>
<div id="rfRemark">Trace means rainfall less than 0.05 mm</div>
<div class="remark  self_align_left">
<div id="normalRemark"></div>
</div>
<!--Content End-->
<script>var last_revision_date = '29 December 2023';</script>
                </div>
				<!--End Content-->
                </div>
            </div>
            <script type="text/javascript">pageBottom();</script>
        </div>
    </div>
    <div id="footer" class="footerArea">
        <div class="container"> 
			<script type="text/javascript">createFooter();</script>
        </div>
    </div>
</div>
</body>
</html>