<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title> Cold Weather Warning｜Hong Kong Observatory(HKO)｜Warnings & Signals Database</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Cold Weather Warning">
    <meta name="description" content="Cold Weather Warning">
    <meta name="recordId" content="2018123100000036368">
    <meta name="lang" content="en">
	<meta property="fb:app_id" content="468280339992518" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Cold Weather Warning" />
	<meta property="og:description" content="Cold Weather Warning Cold Weather Warning Database records since 16/Dec/1999 Please enter period for searching: Start year month: End year month: Commencing 10 October 2011, the Warnings and Signals Database" />
	<meta property="og:image" content="" />
	<meta property="og:url" content="https://www.hko.gov.hk/en/wxinfo/climat/warndb/warndb12.shtml" />
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="314" />
    <!-- Bootstrap -->
    <link id="styleSheet0" href="/css/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet1" href="/css/bsplus.css" rel="stylesheet" media="all" type="text/css">
    <link id="styleSheet2" href="/css/default.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet3" href="/css/layout.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/flexslider.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/jquery-ui.1.13.1.css" rel="stylesheet" media="all" type="text/css">
    <style type="text/css">
.abc{
display: none;
}
		#result, #result td {border:1px solid black;}
#result {width:80%; margin:2px auto;border-collapse:collapse;}
#result td {padding:1em; text-align:center; font-weight:bold;}
#result th {text-align:center; border:1px solid black; color:white; background-color:rgb(26, 88, 171); padding:1em;}
#result tr:nth-child(2) td {background-color:rgb(26, 88, 171); color:white;}
#startdate, #enddate {width:80px;}
#seldateSub {margin-bottom:0;}
.provis {font-style:italic; background-color:#B4CEF2;}
#provis {display:none;}
@media only screen and (max-width: 1023px) {
    #result_content {
        overflow-x:auto;
    }
    #result {min-width:542px;}
}
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:/ -->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5shiv.js"></script>
    <script type="text/javascript" src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui.min.1.13.1.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.easing.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider.js"></script>
    <script type="text/javascript" src="/js/menu.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>

	<script type="text/javascript" src="/js/moment.2.29.4.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/vue-router.js"></script>
	<script type="text/javascript" src="/js/vue-extend.js"></script>
	<script type="text/javascript" src="/js/tmp.js"></script>
	<script type="text/javascript" src="/js/jquery.rwdImageMaps.min.js"></script>


    <script type="text/javascript">
		
var menu_id = '0';
var section_id = '2018010100000011396';

 (function(){
    var recordStartTime, recordEndTime;
    function doAPIcall(type, url, callback) {
        var rands = Math.floor(Math.random(100)*100000).toString();
        var xmlhttp = new XMLHttpRequest();
        xmlhttp.overrideMimeType("text/plain");
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == XMLHttpRequest.DONE && xmlhttp.status == 200) {
                var data = xmlhttp.responseText;
                if (callback) callback(data);
            }
        };
        xmlhttp.open(type, url+"?s="+rands, true);
        xmlhttp.send();
    }

    function addzero(arg){
        if (arg.length == 1){
            return "0"+arg;
        } else {
            return arg;
        }
    }

    function fillforms(data){
        var lines = data.split("\n");
        var line = lines[0].split(/\t/)
        recordStartTime = line[0]+"-"+"01";
        recordStartTime = moment(recordStartTime,'YYYYMM').subtract(1,'months').format("YYYY-MM");
        var enddate = moment().format('YYYYMM');
        recordEndTime = moment(enddate, 'YYYYMM').add(1,'months').format("YYYY-MM");
        document.getElementById("startdate").value = enddate;
        document.getElementById("enddate").value = enddate;
    }

    function process(data){
        var startdate = document.getElementById("startdate").value.trim();
        var enddate = document.getElementById("enddate").value.trim();
        var searchdate1= startdate;
        var searchdate2 = enddate;
        startdate = moment(startdate,'YYYYMM').subtract(1,'months').format("YYYY-MM");
        enddate = moment(enddate,'YYYYMM').add(1,'months').format("YYYY-MM");
        var lines = data.split("\n");
        var months = {"01":"Jan", "02":"Feb", "03":"Mar", "04":"Apr", "05":"May", "06":"Jun",
                      "07":"Jul", "08":"Aug", "09":"Sep", "10":"Oct", "11":"Nov", "12":"Dec"};
        var html = "";
        var num_records = 0;
        var provis= false;
        for (var i=0; i < lines.length; i++) {
            var data = lines[i].split(/\t/);
            if (data[0].trim() == ""){
                continue;
            } else if (/U{4}/.test(data[0])== true ){
                provis = true;
                continue;
            } else if (data.length > 1) {
                var obsdate = data[0]+"-"+addzero(data[1]);
                var canceldate = data[5]+"-"+addzero(data[6]);
            }   
            // 1999	12	25	23	15	1999	12	26	9	45	10	30
            if (moment(obsdate, 'YYYY-MM').isBetween(startdate, enddate)== true || moment(canceldate, 'YYYY-MM').isBetween(startdate, enddate)== true){
                num_records++;
                if (provis == false){
                    html += "<tr>";
                } else {
                    html += "<tr class='provis'>";
                }
                html += "<td headers='header1 header4'>"+addzero(data[3])+":"+addzero(data[4])+"</td><td headers='header1 header5'>"+addzero(data[2])+"/"+months[addzero(data[1])]+"/"+data[0]+"</td><td headers='header2 header6'>"+addzero(data[8])+":"+addzero(data[9])+"</td><td headers='header2 header7'>"+addzero(data[7])+"/"+months[addzero(data[6])]+"/"+data[5]+"</td><td headers='header3'>"+addzero(data[10])+" "+addzero(data[11])+"</td></tr>";
            }   
        }
        if (html != "") {
            var heading = "<tr><th colspan='2' axis='start time' id='header1'>Start Time</th><th colspan='2' axis='end time' id='header2'>End Time</th><th rowspan='2' axis='duration' id='header3'>Duration<br>hh mm</th>";
            heading += "<tr><th id='header4' axis='hh mm'>hh mm</th><th id='header5' axis='dd/mon/yyyy'>dd/mon/yyyy</th><th id='header6' axis='hh mm'>hh mm</th><th id='header7' axis='dd/mon/yyyy' >dd/mon/yyyy</th></tr>"
            html = heading+html;
            var resulthead = "<hr><p>Searching period : ["+searchdate1+" - "+searchdate2+"]<br>Total number of records : ["+num_records.toString()+"]</p>";
            document.getElementById("result_heading").innerHTML = resulthead;
            document.getElementById("result_content").innerHTML='<table id="result" summary="This table list records of Cold Weather Warning.  It consists of 5 columns.  The first and second column are under the heading \'Start time|Date\'.  The first column is the start time in hours and minutes.  The second column is the start date.  The third and fourth column are under the heading \'End Time|Date\'.  The third column is the end time in hours and minutes.  The fourth column is the end date.  The fifth column is the duration in hours and minutes.">'+html+"</table>";
            if (document.getElementsByClassName("provis").length > 0){
                document.getElementById("provis").style.display = "block";
            } else {
                document.getElementById("provis").style.display = "none";
            }
        } else {
            document.getElementById("result_heading").innerHTML = "<hr>Searching period : ["+searchdate1+" - "+searchdate2+" ]<br>Total number of records : [0]</p>";
            document.getElementById("provis").style.display = "none";
            document.getElementById("result_content").innerHTML ="";
        }
        document.getElementById("result_content").innerHTML += "<br><center>The database does not include warnings and signals now in force. Please visit this <a href='../../dailywx/wxwarntoday.htm'>webpage</a> for warnings and signals now in force.</center><br>";
        document.getElementById("remark").style.display = "none";
    }
    document.addEventListener("DOMContentLoaded", function(event) {
        doAPIcall("GET", "/dps/wxinfo/climat/warndb/cold.dat", fillforms);
        document.getElementById("warningsearch").addEventListener("click", function(e){
            var startdate = document.getElementById("startdate").value.trim();
            var enddate = document.getElementById("enddate").value.trim();
            var pattern = /\d{6}/;
            var alertmsg = "";
            var ferror1 = false, ferror2 = false; 
            if (pattern.test(startdate) == false || parseInt(startdate.substr(4,2))>12 || startdate.substr(4,2)=="00"){
                alertmsg += "[Start year month] Invalid format.\n";
                ferror1= true;
            }
            if (pattern.test(enddate) == false || parseInt(enddate.substr(4,2))>12 || enddate.substr(4,2)=="00"){
                alertmsg += "[End year month] Invalid format.\n";
                ferror2 = true;
            }
            if (ferror1 == false && ferror2 == false){
                if (moment(startdate,'YYYYMM') > moment(enddate,'YYYYMM')){
                    alertmsg = "[Start year month] is later than [End year month]\n";
                } else if (moment(startdate, 'YYYYMM').isBetween(recordStartTime, recordEndTime) == false || moment(enddate, 'YYYYMM').isBetween(recordStartTime, recordEndTime)== false  ){
                    alertmsg = "Invalid range";
                }
            }
            if (alertmsg != ""){
                alert(alertmsg);
                return false;
            }
            doAPIcall("GET", "/dps/wxinfo/climat/warndb/cold.dat", process);
        })
    })
})();
	</script>
</head>
<body id="page_bg">
<div id="skipwrapper">
    <a id="top" title="page top"></a>
    <a id="skiptocontent" href="#mainContentSkip" class="access">Skip Content</a>
</div>
<div id="wrap">
    <div id="header" class="headerArea">
        <div class="container">
            <div class="headerTool">
				<script type="text/javascript">createHeader();</script>
            </div>
        </div>
    </div>
    <div class="bodyArea">
        <div class="container">
            <div class="contentArea">
                <a id="mainContentSkip"></a>
                <div class="mainHeader"></div>
                <div class="breadcrumb"></div>
				<script type="text/javascript">pageTop();</script>
				<div id="mainContent" class="mainContent">
                <!--Begin Content-->
                <h1 class="no_h1"> Cold Weather Warning</h1>
                <div class="border_blank">
                    <!--Begin Content-->
<h1 class="no_h1">Cold Weather Warning</h1>
<!--Content Start-->
<h2 style="font-style: italic;">Cold Weather Warning</h2>
<p>Database records since 16/Dec/1999</p>
<p id="seldateSub">Please enter period for searching:</p>
<label for="startdate">Start year month:</label> <input type="text" id="startdate" /><br /><label for="enddate">End year month:</label> <input type="text" id="enddate" /> <input type="submit" value="Submit Query" id="warningsearch" /><br />
<p id="remark">Commencing 10 October 2011, the Warnings and Signals Database would also display the provisional records of recent warnings/signals in addition to the official records. Provisional records will normally be checked during the first working day after the expiry or cancellation of the warning/signal for confirmation to be accepted as official records.</p>
<div id="result_heading"></div>
<div id="result_content"></div>
<p id="provis">NB: Records shown in blue background and Italic font are provisional information for reference only.</p>
<!--Content End-->
<script>var last_revision_date = '19 August 2024';</script>
                </div>
				<!--End Content-->
                </div>
            </div>
            <script type="text/javascript">pageBottom();</script>
        </div>
    </div>
    <div id="footer" class="footerArea">
        <div class="container"> 
			<script type="text/javascript">createFooter();</script>
        </div>
    </div>
</div>
</body>
</html>