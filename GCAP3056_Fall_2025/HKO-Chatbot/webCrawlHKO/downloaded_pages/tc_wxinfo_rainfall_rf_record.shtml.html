<!DOCTYPE html>
<html lang="zh-hk" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>過去各區雨量記錄</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content=" 過去各區雨量記錄">
    <meta name="description" content="過去各區雨量記錄">
    <meta name="recordId" content="2018123100000036645">
    <meta name="lang" content="tc">
	<meta property="fb:app_id" content="468280339992518" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="過去各區雨量記錄" />
	<meta property="og:description" content="請選擇日期:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;請選擇時間: 00時 01時 02時 03時 04時 05時 06時 07時 08時 09時 10時 11時 12時 13時 14時 15時" />
	<meta property="og:image" content="" />
	<meta property="og:url" content="https://www.hko.gov.hk/tc/wxinfo/rainfall/rf_record.shtml" />
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="314" />

    <!-- Bootstrap -->
    <link id="styleSheet0" href="/css/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet1" href="/css/bsplus.css" rel="stylesheet" media="all" type="text/css">
    <link id="styleSheet2" href="/css/default.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet3" href="/css/layout.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/flexslider.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/jquery-ui.min.css" rel="stylesheet" media="all" type="text/css">
    <style type="text/css">
		 td {
        font-size:100%;
    }
    pre, xmp, plaintext, listing {
        display: block;
        white-space: pre;
        margin: 1em 0px;
    }
    /* WCAG Logo */
    #wcag_logo_area{
        display:inline;
        text-align: center;
    }
    #wcag_logo_area a img{
        border:	0px;
        position:relative;
        top:12px;
    }
	
	.border_white{
		border-color:#fff;
	}
	#div_content h2{
		text-align:center !important;
	}
	
	form[name=dailyIC] span{
		font-size:16px !important;
                 text-align:center
	}
     #seldate {text-align:center;}
		
		.border_white{
			border-color:#fff;
		}
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:/ -->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5shiv.js"></script>
    <script type="text/javascript" src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.easing.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider.js"></script>
    <script type="text/javascript" src="/js/menu.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>
	
	<script type="text/javascript" src="/js/moment.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/vue-router.js"></script>
	<script type="text/javascript" src="/js/vue-extend.js"></script>
	<script type="text/javascript" src="/js/tmp.js"></script>
	<script type="text/javascript" src="/js/jquery.rwdImageMaps.min.js"></script>

    <script type="text/javascript">
		
var menu_id = '';
var section_id = '2018010100000010832';

    var now = new Date();
var cmonth = now.getMonth();
var cday = now.getDate();
var chour = now.getHours();
var cyear = now.getFullYear();

var month = ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"];
var monthvalue = {"1月":"01", "2月":"02", "3月":"03", "4月":"04", "5月":"05", "6月":"06", "7月":"07",                  "8月":"08", "9月":"09", "10月":"10", "11月":"11", "12月":"12"};
var range = [];
range.push(month[cmonth]);
var leapdays;
function leapyear(year){
    return (year % 100 === 0) ? (year % 400 === 0) : (year % 4 === 0);
}

function addzero(arg){
    if (arg.length == 1){
        return "0"+arg;
    } else {
        return arg;
    }
}

function dropzero(arg){
    if (arg.substr(0,1)=="0"){
        return arg.substr(1);
    } else {
        return arg;
    }
}

function getRf(arg) {

    var url = "/dps/wxinfo/rainfall/archive/rf_record_"+arg+"00c.htm"; 
       
    $.ajax({
        url:url,
        cache:false,
        dataType:"text",
        statusCode: {
            404: function(responseObject, textStatus, jqXHR) {
                   var headingdate = arg.substr(0,4)+"年"+dropzero(arg.substr(4,2))+"月"+dropzero(arg.substr(6,2))+"日 "+arg.substr(8,2)+"時";
                   $("#errormesg").remove();
                   $("#seldate").remove();
                    $("#tablecontent").html("");
                   $("<p style='text-align:center;font-weight:bold;' id='errormesg'>未能提供 "+headingdate+" 的各區雨量記錄。</p>").appendTo($("#rainfalldata"))
                 }
        }         
    }).done(function(data){
        var content =$(data).find("table.center").html()
        var seldate = arg.substr(0,4)+"年"+dropzero(arg.substr(4,2))+"月"+dropzero(arg.substr(6,2))+"日"
        $("#errormesg").remove();
        $("#seldate").remove();
        replacement="該時段並無錄得雨量記錄"
        content = content.replace("現時並無錄得雨量記錄",replacement)
        $("#tablecontent").html(content)
        
        $("#tablecontent table td").css("border", "1px solid black");
        $("<h2 style='font-size:117%;' id='seldate'> "+seldate+"</h2>").prependTo($("#rainfalldata"));
        
    })
}
for (var i=0; i<3;i++){
    cmonth = cmonth-1;  
    if (cmonth > -1){
        range.unshift(month[cmonth]);
    } else if (cmonth == -1) {
        range.unshift(month[11]);
    } else if (cmonth == -2) {
        range.unshift(month[10]);
    } else if (cmonth == -3) {
        range.unshift(month[9]);
    }   
}

if (leapyear(cyear) == true){
    leapdays=29;
} else {
    leapdays=28;
}
var days = {"01":31, "02":leapdays, "03":31, "04":30, "05":31, "06":30, "07":31, "08":31, "09":30, "10":31, "11":30, "12":31 }


$(document).ready(function() {
	$('#div_content>div>div>table>tbody>tr>td>table').addClass('table_cellpadding_5 table_cellspacing_1');
	$('#div_content>div>strong').wrap('<div class="self_align_center"></div>');
	$('#div_content>div>div>table>tbody>tr>td>table>tbody>tr>td:nth-child(2)').width('150px');
    
    var optionHtml="";
    for (var i=0; i<4;i++){
        optionHtml += "<option value='"+monthvalue[range[i]]+"'>"+range[i]+"</option>"
    }
    
$('#Selmonth').on('change', function() {
        var month = $("#Selmonth option:selected").val();
        var numdays = days[month];
        var optionHtml="";
        for (var i=0; i <numdays; i++){
            optionHtml += "<option value='"+addzero((i+1).toString())+"'>"+(i+1).toString()+"日</option>";
        }
        $("#Selday").html(optionHtml);
    });
    
    $("#Selmonth").html(optionHtml);
    $("#Selmonth option:last-child").prop("selected",true);
    $("#Selmonth").trigger("change")
    $("#Selhour").find("option").eq(chour).prop("selected",true); 
    $("#Selday").find("option").eq(cday-1).prop("selected",true);
    
    var selmonth = $("#Selmonth option:selected").val();
    var selday = $("#Selday option:selected").val();
    var selhour = $("#Selhour option:selected").val();
   
    getRf(cyear+selmonth+selday+selhour);
    $("[type='submit']").click(function(e){
        e.preventDefault();
        var now = new Date();
        var cyear = now.getFullYear().toString();
        var preyear = (cyear-1).toString();
        var selmonth = $("#Selmonth option:selected").val();
        var selday = $("#Selday option:selected").val();
        var selhour = $("#Selhour option:selected").val();
        var firstoption = $("#Selmonth option:first-child").val();
        var timestamp = cyear+selmonth+selday+selhour
        
        if (firstoption == "11" || firstoption == "12" || firstoption == "10" ) {
            if (selmonth == "10" || selmonth == "11" || selmonth == "12") {
                timestamp = preyear+selmonth+selday+selhour
            }
        } else {
            timestamp = cyear+selmonth+selday+selhour
        }
        
        getRf(timestamp)
    }) 
});
	</script>
</head>
<body id="page_bg">
                <div class="border_blank border_white">
                    <p class="self_align_center"><img alt="Hong Kong Observatory Logo" src="../../../tc/images/logo_dblue.gif" /></p>
<p class="self_align_center" id="div_content"></p>
<form name="dailyIC" style="text-align: center;"><span style="font-size: 83%;"><strong>請選擇日期:</strong></span><select size="1" name="Selmonth" id="Selmonth" title="請選擇月份"></select>&nbsp;&nbsp;<select size="1" name="Selday" id="Selday" title="請選擇日子"></select>&nbsp;&nbsp;<span style="font-size: 83%;"><strong>請選擇時間:</strong></span><select size="1" name="Selhour" id="Selhour" title="請選擇小時">
<option value="00">00時</option>
<option value="01">01時</option>
<option value="02">02時</option>
<option value="03">03時</option>
<option value="04">04時</option>
<option value="05">05時</option>
<option value="06">06時</option>
<option value="07">07時</option>
<option value="08">08時</option>
<option value="09">09時</option>
<option value="10">10時</option>
<option value="11">11時</option>
<option value="12">12時</option>
<option value="13">13時</option>
<option value="14">14時</option>
<option value="15">15時</option>
<option value="16">16時</option>
<option value="17">17時</option>
<option value="18">18時</option>
<option value="19">19時</option>
<option value="20">20時</option>
<option value="21">21時</option>
<option value="22">22時</option>
<option value="23">23時</option>
</select><input type="submit" value="確定" title="顯示已選擇時間的各區雨量記錄" /></form>
<p></p>
<div style="border-top: 1px solid #9e9e9e; padding-top: 15px;" id="rainfalldata">
<table id="tablecontent" style="margin: 0 auto;"></table>
</div>
<hr />
<div class="self_align_left">| &nbsp;<a>上一頁</a> &nbsp;| &nbsp;<a href="../../../textonly/v2/readmec.htm">版 權 及 聲 明</a> &nbsp;| &nbsp;<a href="../../../en/wxinfo/rainfall/rf_record.shtml">英文版本</a> &nbsp;| <br />
<div id="wcag_logo_area"></div>
<br /><br /><span style="font-size: 63%;">本頁於 2022 年 2 月 24 日更新</span></div>
<script>var last_revision_date = '2024年6月3日';</script>
                </div>
</body>
</html>