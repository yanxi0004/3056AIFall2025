<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>Visibility Readings in Hong Kong Waters</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Visibility Readings in Hong Kong Waters">
    <meta name="description" content="Visibility Readings in Hong Kong Waters">
    <meta name="recordId" content="2018123100000036639">
    <meta name="lang" content="en">
	<meta property="fb:app_id" content="468280339992518" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="Visibility Readings in Hong Kong Waters" />
	<meta property="og:description" content="Visibility Readings in Hong Kong Waters Please select time: Location Visibility Reading (km) Notes: This table shows the visibility readings in Hong Kong Waters at the indicated hour. The readings" />
	<meta property="og:image" content="" />
	<meta property="og:url" content="https://www.hko.gov.hk/en/vis/vis_textonly.shtml" />
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="314" />
    <!-- Bootstrap -->
    <link id="styleSheet0" href="/css/bootstrap.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet1" href="/css/bsplus.css" rel="stylesheet" media="all" type="text/css">
    <link id="styleSheet2" href="/css/default.css" rel="stylesheet" media="screen" type="text/css">
    <link id="styleSheet3" href="/css/layout.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/flexslider.css" rel="stylesheet" media="all" type="text/css">
    <link href="/css/jquery-ui.min.css" rel="stylesheet" media="all" type="text/css">
    <style type="text/css">
		  td {
		font-size:100%;
    }
    #vistable {
        border-collapse:collapse;
        width:380px;
    }
    #vistable td, #vistable th {
        border: solid 1px black;
    }
    /* WCAG Logo */
    #wcag_logo_area{
		display:inline;
		text-align: center;
    }
    #wcag_logo_area a img{
		border:	0px;
		position:relative;
		top:12px;
    }
	caption {
		font-weight:bold;
		padding:4px;
	}
	.div_table tr, 
	.div_table th, 
	.div_table td{
		text-align:center !important;
	}
	.div_content div{
		text-align:center;
	}
		
	.border_white{
		border-color:#fff;
	}
	
    .border_blank select {
	  max-width: 400px;
	  width:100%;
	}
		
		.border_white{
			border-color:#fff;
		}
    </style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:/ -->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5shiv.js"></script>
    <script type="text/javascript" src="js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.easing.js"></script>
    <script type="text/javascript" src="/js/jquery.flexslider.js"></script>
    <script type="text/javascript" src="/js/menu.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>

	<script type="text/javascript" src="/js/moment.js"></script>
	<script type="text/javascript" src="/js/vue.min.js"></script>
	<script type="text/javascript" src="/js/vue-router.js"></script>
	<script type="text/javascript" src="/js/vue-extend.js"></script>
	<script type="text/javascript" src="/js/tmp.js"></script>
	<script type="text/javascript" src="/js/jquery.rwdImageMaps.min.js"></script>


    <script type="text/javascript">
		
var menu_id = '';
var section_id = '2018010100000011384';

          $(document ).ready(function() {
        var lines;
        var monthtext = {"01":"Jan", "02":"Feb", "03":"Mar", "04":"Apr", "05":"Apr", "06":"Jun", "07":"Ju", "08":"aug", "09":"Sep", "10":"Oct", "11":"Nov", "12":"Dec" };
        var stations = {"viscen":"Central", "visclk":"Chek Lap Kok", "ELamCh":"E. Lamma Channel",
                        "hko":"Hong Kong Observatory", "KlnBay":"Kowloon Bay", "MaWan":"Ma Wan",
                        "visswh":"Sai Wan Ho", "SLantau":"South Lantau", "TatPt":"Tathong Point",
                        "UrmRd":"Urmston Road",  "VicHbr":"Victoria Harbour",
                        "viswgl": "Waglan Island", "WglPot":"Waglan & Potoi",
                        "WLamCC":"W. Lamma and Cheung Chau", "WAnch":"Western Anchorage"};
         
        $.ajax({
            url:"/dps/vis/visdata.txt",
            cache:false,
            dataType:"text"
        }).done(function(data){
            console.log(data);
            lines = data.split("\n")
            var htmlcontent=""
            for (var i=0; i< lines.length; i++) {
                if (lines[i] == "") break;
                var raw = lines[i].split("::");
                var uptime = raw[1];
                
                var option = "Hourly Visibility Report at "+uptime.substr(8,2)+":"+uptime.substr(10,2)+" HKT "+uptime.substr(6,2)+" "+monthtext[uptime.substr(4,2)]+" "+uptime.substr(0,4)
                htmlcontent += "<option value='"+raw[1]+"'>"+option+"</option>";
            }
            var latest = lines[lines.length-2];
            $("#selectCon").html(htmlcontent);
            var datahtml = "";
            for (stn in stations) {
                var pattern = new RegExp(stn+"::(\\d+|-)", 'i')
                var matches = pattern.exec(latest);
                if (matches != null){
                    var vis = matches[1];
                    if (vis == "-") {
                        vis = "NA"
                    }
                    else {
                        vis = (parseFloat(vis)/1000).toString();
                    }
                    var stname = stations[stn];
                    datahtml += "<tr><td>"+stname+"</td><td>"+vis+"</td></tr>";
                }  
            }
           
            var latestuptime = $("#selectCon option:last-child").val();
            var title1 = latestuptime.substr(8,2)+":00 HKT "+latestuptime.substr(6,2)+" "+monthtext[latestuptime.substr(4,2)]+" "+latestuptime.substr(0,4)
            $("#title1").html("Hourly Visibility Report at "+title1);
            $(datahtml).appendTo("#vistable");
            $("#selectCon option:last-child").prop("selected", true);
            $("#selectCon option:last-child").html("Latest Visibility Report");
        })
        $("#view").click(function(e){
            e.preventDefault();
           
            var selectTime = $("#selectCon").find(":selected").val()
            var title1 = selectTime.substr(8,2)+":00 HKT "+selectTime.substr(6,2)+" "+monthtext[selectTime.substr(4,2)]+" "+selectTime.substr(0,4)
            $("#title1").html("Hourly Visibility Report at "+title1);
            var seletctline;
            for (var i =0; i <lines.length; i++) {
                if (lines[i].search(selectTime) != -1) {
                    seletctline = lines[i];
                    break;
                }    
            }
            var datahtml = "";
            for (stn in stations) {
                var pattern = new RegExp(stn+"::(\\d+|-)", 'i')
                var matches = pattern.exec(seletctline);
                if (matches != null){
                    var vis = matches[1];
                    if (vis == "-") {
                        vis = "NA";
                    }else {
                        vis = (parseFloat(vis)/1000).toString();
                    }
                    var stname = stations[stn];
                    datahtml += "<tr><td>"+stname+"</td><td>"+vis+"</td></tr>";
                }  
            }
            $("#vistable td").remove();
            $(datahtml).appendTo("#vistable");
        });

        $('#div_content>div>div').each(function() {
            $(this).addClass('self_align_center div_table' ); 
            
        });
        $('#div_content>div>div>table').addClass('table_border_1 table_cellpadding_0 table_cellspacing_0')
    })
	</script>
</head>
<body id="page_bg">
                <!--Begin Content-->
                <div class="border_blank border_white">
                    <p align="center"><img alt="Hong Kong Observatory Logo" src="../../en/images/logo_dblue.gif" width="333" height="65" /></p>
<div style="margin-left: auto; margin-right: auto;" class="self_align_center">
<h2>Visibility Readings in Hong Kong Waters</h2>
<div class="self_align_center" id="div_content"><span style="font-size: 83%;"><strong>Please select time:</strong></span><select size="1" name="Seltime" title="Please select time" id="selectCon"></select><input type="submit" id="view" value="View" title="Show the visibility readings in Hong Kong with selected time." />
<div style="border-top: 1px solid #9e9e9e;">
<div align="center"><br />
<h2 style="font-size: 117%;" id="title1"></h2>
<table summary="This table shows the Visibility Report" id="vistable">
<tbody>
<tr>
<th>Location</th>
<th style="width:188px;">Visibility Reading (km)</th>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<br /><strong>Notes:</strong><br />
<ol>
<li>This table shows the visibility readings in Hong Kong Waters at the indicated hour. The readings are provided by the Hong Kong Observatory (HKO) and <a href="http://www.mardep.gov.hk/" target="_blank" rel="noopener">Marine Department</a> respectively.</li>
<li>The visibility readings for Hong Kong Observatory, Chek Lap Kok, Central, Sai Wan Ho and Waglan Island are provided by HKO. The visibility at Hong Kong Observatory is based on hourly observations by a trained meteorological observer. The visibility at Chek Lap Kok, Central, Sai Wan Ho and Waglan Island are derived from automatic visibility readings of a <a href="../../en/en/wxinfo/ts/vis/visometer.htm" target="_blank" rel="noopener">visibility meter</a> and represents the average of readings in the 10 minutes ending at the indicated time.</li>
<li>The visibility at Chek Lap Kok is provided by the visibility meter near the middle of the south runway of the Hong Kong International Airport. When this visibility meter cannot provide data, the visibility value will come from one of the neighbouring meters at the airport.</li>
<li>The other readings shown on the table are collected by the Marine Department from voluntary ship observers and are available only when low visibility caused by fog, mist or haze occurs within Hong Kong waters. The readings are for reference only and the box at the lower left corner of the map, if shown, indicated the data collection time.</li>
<li>The reported visibility ranges between 100 metres and 50 kilometres. A visibility report of 100 metres refers to visibilities of 100 metres or less and, 50 kilometres refers to visibilities of 50 kilometres or more. N/A is displayed when no reading is available.</li>
<li>Despite quality control, the automatic visibility reading may occasionally be affected by noises and interferences.</li>
</ol>
<hr />| &nbsp;<a>Back</a> &nbsp;| &nbsp;<a href="../../textonly/readme.htm">Copyright and Disclaimer</a> &nbsp;| &nbsp;<a href="../../tc/vis/vis_textonly.shtml">Chinese Version</a> &nbsp;| <br />
<div id="wcag_logo_area"></div>
<br /><br /><span style="font-size: 63%;">Last updated on 24 February 2022</span>
<script>var last_revision_date = '24 February 2022';</script>
                </div>
				<!--End Content-->
</body>
</html>